<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sodangi Global News</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#0f0f0f;
  --card:#1b1b1b;
  --text:#f2f2f2;
  --muted:#aaa;
  --accent:#bb1919;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif;}
body{background:var(--bg);color:var(--text);}
header{display:flex;align-items:center;gap:10px;padding:12px;background:#000;border-bottom:3px solid var(--accent);}
.logo{width:42px;height:42px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;font-weight:900;font-size:22px;}
header h1{font-size:20px;margin:0;}
.breaking{background:var(--accent);padding:6px 10px;font-size:14px;white-space:nowrap;overflow:hidden;}
.breaking span{display:inline-block;padding-left:100%;animation:scroll 18s linear infinite;}
@keyframes scroll{from{transform:translateX(0)}to{transform:translateX(-100%)}}
.controls{display:flex;gap:8px;padding:10px;max-width:720px;margin:auto;}
.controls input,.controls select{flex:1;padding:10px;border:none;border-radius:8px;background:#1f1f1f;color:#fff;}
.feed{max-width:720px;margin:auto;padding:10px;}
.card{background:var(--card);margin-bottom:18px;border-radius:14px;overflow:hidden;}
.media{aspect-ratio:16/9;background:#222;}
.media img{width:100%;height:100%;object-fit:cover;}
.card h3{margin:12px;font-size:19px;}
.card p{margin:0 12px 12px;color:var(--muted);}
.card a{display:block;padding:10px 12px 14px;color:#4da3ff;font-weight:bold;text-decoration:none;}
.ad{background:#0d0d0d;border:1px dashed #333;text-align:center;padding:22px;margin:20px 0;border-radius:14px;color:#aaa;font-weight:bold;}
footer{text-align:center;padding:18px;font-size:13px;color:#777;}
</style>
</head>
<body>

<header>
  <div class="logo">S</div>
  <h1>Sodangi Global News</h1>
</header>

<div class="breaking">
  <span id="breaking">Loading breaking news...</span>
</div>

<div class="controls">
  <input id="search" type="search" placeholder="Search news...">
  <select id="filter">
    <option value="global">üåç Global</option>
    <option value="nigeria">üá≥üá¨ Nigeria</option>
    <option value="sports">Sports</option>
    <option value="technology">Technology</option>
    <option value="entertainment">Entertainment</option>
    <option value="business">Business</option>
  </select>
</div>

<div class="feed" id="news"></div>

<footer>¬© 2026 Sodangi Global News</footer>

<script>
const API_KEY = "4bc8601bccee42efbc96dd90a4084bf6";
const PLACEHOLDER = "https://via.placeholder.com/800x450/222/999?text=Sodangi+Global+News";

const box = document.getElementById("news");
const breaking = document.getElementById("breaking");

// Safe image helper
function safeImage(url){ return url && url!=="null" ? url : PLACEHOLDER; }

// Render news articles
function renderNews(d){
  box.innerHTML="";
  if(!d.articles || d.articles.length===0){
    box.innerHTML="<p style='text-align:center;color:#aaa'>No news found</p>";
    breaking.textContent = "No breaking news";
    return;
  }
  breaking.textContent = "BREAKING: " + (d.articles[0].title || "Breaking news");

  d.articles.forEach((n,i)=>{
    if(i===4 || i===10){ box.innerHTML += `<div class="ad">ADVERTISEMENT</div>`; }
    const img = safeImage(n.urlToImage);
    box.innerHTML += `
      <article class="card">
        <div class="media"><img src="${img}" loading="eager" alt="News Image"></div>
        <h3>${n.title || "Breaking News"}</h3>
        <p>${n.description || "Read full story for details."}</p>
        <a href="${n.url}" target="_blank">Read more ‚Üí</a>
      </article>
    `;
  });
}

// Load Nigeria news with fallback
async function loadNigeria(){
  let res = await fetch(`https://newsapi.org/v2/top-headlines?country=ng&pageSize=20&apiKey=${API_KEY}`);
  let data = await res.json();
  if(!data.articles || data.articles.length===0){
    res = await fetch(`https://newsapi.org/v2/everything?q=Nigeria OR Lagos OR Abuja OR Naija&language=en&pageSize=20&apiKey=${API_KEY}`);
    data = await res.json();
  }
  renderNews(data);
}

// Load global news or search
function loadGlobal(q="latest"){
  fetch(`https://newsapi.org/v2/everything?q=${q}&language=en&pageSize=20&apiKey=${API_KEY}`)
    .then(r=>r.json()).then(renderNews);
}

// Initial load
loadGlobal();

// Filter change
document.getElementById("filter").addEventListener("change",e=>{
  if(e.target.value==="nigeria"){ loadNigeria(); } else { loadGlobal(e.target.value); }
});

// Search enter
document.getElementById("search").addEventListener("keyup",e=>{
  if(e.key==="Enter"){ loadGlobal(e.target.value); }
});
</script>

</body>
</html>